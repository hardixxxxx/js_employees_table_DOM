!function(){function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}}function n(n){return function(e){if(Array.isArray(e))return t(e)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||e(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return"$".concat(Number(t).toLocaleString("en-US"))}function a(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n,r,a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(t);!(i=(n=a.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(t){c=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,n)||e(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e,n){return!function(t,e){if(t!==e)throw TypeError("Private static access of wrong provenance")}(t,e),n}function s(t,e,n){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return n}function f(t,e){!function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}var d=new WeakSet,p=new WeakSet,m=new WeakSet,v=new WeakSet,y=new WeakSet,h=function(){function t(){a(this,t),f(this,d),f(this,p),f(this,m),f(this,v),f(this,y),c(this,"notification",null)}return i(t,[{key:"showNotification",value:function(t){var e,n,r,a,o=t.type,i=t.title,c=t.message;s(a=s(r=s(n=s(e=s(this,d,b).call(this,o),p,g).call(e,i),m,E).call(n,c),v,w).call(r),y,S).call(a)}}]),t}();function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.createElement("div");return e.classList.add(t,"notification"),e.setAttribute("data-qa","notification"),this.notification=e,this}function g(t){var e=document.createElement("h2");return e.classList.add("title"),e.textContent=t,this.notification.append(e),this}function E(t){var e=document.createElement("p");return e.textContent=t,this.notification.append(e),this}function w(){return document.body.append(this.notification),this}function S(){var t=this,e=setTimeout(function(){t.notification.style.display="none",clearTimeout(e)},2e3)}var A=function(){function t(){a(this,t)}return i(t,[{key:"createForm",value:function(){var e=document.createElement("form");return e.classList.add("new-employee-form"),e.setAttribute("novalidate",!0),e.addEventListener("submit",u(t,t,j)),u(t,t,q).call(t,e)}}]),t}();function C(){var t=document.createElement("button");return t.setAttribute("type","submit"),t.textContent="Save to table",t}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("input");return n.setAttribute("name",t),n.setAttribute("data-qa",t),n.setAttribute("required",!0),Object.entries(e).forEach(function(t){var e=l(t,2),r=e[0],a=e[1];n.setAttribute(r,a)}),n}function x(t,e,n){var r=document.createElement("label"),a=u(A,A,k).call(A,t,n);return r.textContent=e,r.append(a),r}function L(t){var e=document.createElement("option");return e.textContent=t,e.setAttribute("value",t),e}function T(t){var e=document.createElement("select");return e.setAttribute("name",t),e.setAttribute("data-qa",t),A.OFFICES.forEach(function(t){var n=u(A,A,L).call(A,t);e.append(n)}),e}function N(t,e){var n=document.createElement("label"),r=u(A,A,T).call(A,t);return n.textContent=e,n.append(r),n}function q(t){var e=u(this,A,x).call(A,"name","Name:",{minlength:4}),n=u(this,A,x).call(A,"position","Position:"),r=u(this,A,N).call(A,"office","Office:"),a=u(this,A,x).call(A,"age","Age:",{type:"number",max:90,min:18}),o=u(this,A,x).call(A,"salary","Salary:",{type:"number"}),i=u(this,A,C).call(A);return t.append(e),t.append(n),t.append(r),t.append(a),t.append(o),t.append(i),t}function I(t){var e=new h,n=!0,r=!1,a=void 0;try{for(var o,i=t.entries()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=l(o.value,2),u=c[0],s=c[1];if(!s)return e.showNotification({type:"error",title:"Error",message:"".concat(function(t){if(t)return"string"!=typeof t?t:t.charAt(0).toLocaleUpperCase()+t.slice(1)}(u)," field is required")}),!1;if("name"===u&&s.length<4)return e.showNotification({type:"error",title:"Error",message:"Name length should be at least 4 characters."}),!1;if("age"===u&&(s<18||s>90))return e.showNotification({type:"error",title:"Error",message:"Age should be at least 18 y.o. and less or equal than 90"}),!1}}catch(t){r=!0,a=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return!0}function j(t){t.preventDefault();var e=new FormData(t.target);u(A,A,I).call(A,e)&&(u(A,A,F).call(A,e),t.target.reset(),new h().showNotification({type:"success",title:"Success",message:"Employee has been added."}))}function F(t){var e=document.querySelector("tbody"),n=document.createElement("tr"),a=!0,o=!1,i=void 0;try{for(var c,u=t.entries()[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var s=l(c.value,2),f=s[0],d=s[1],p=d,m=document.createElement("td");"salary"===f&&(p=r(d)),m.append(p),n.append(m),e.append(n)}}catch(t){o=!0,i=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}}c(A,"OFFICES",["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]);var O=function(){function t(){a(this,t)}return i(t,[{key:"editCell",value:function(e,n){var r=e.target,a=r.cellIndex,o=n.rows[0].cells[a].textContent.toLowerCase(),i=r.textContent,c=u(t,t,W).call(t,o);c.setAttribute("placeholder",i),r.textContent=null,r.append(c),c.focus(),c.addEventListener("keypress",function(t){"Enter"===t.key&&c.blur()}),c.addEventListener("blur",function(e){u(t,t,P).call(t,e,o,i)})}}]),t}();function W(t){var e=document.createElement("input");return e.classList.add("cell-input"),("age"===t||"salary"===t)&&e.setAttribute("type","number"),e}function P(t,e,n){var a=t.target,o=a.parentNode,i=a.value,c=i;"salary"===e&&(c=i?r(i):null),a.remove(),o.textContent=null!=c?c:n}var U=function(){function t(){a(this,t)}return i(t,[{key:"onTableSort",value:function(e,r,a){var o=a.cellIndex,i=e.rows[0].cells,c=r.rows,l=u(t,t,z).call(t,o,i);n(c).sort(function(e,n){var r=u(t,t,$).call(t,o,e),a=u(t,t,$).call(t,o,n);return"string"==typeof r?r.localeCompare(a):r-a}).forEach(function(t){"asc"===l?r.append(t):r.prepend(t)})}}]),t}();function $(t,e){var n=e.cells[t].textContent;return 3===t&&(n=+n),4===t&&(n=+n.replace(/[$,]/g,"")),n}function D(t,e){for(var n=0;n<e.length;n++)t!==n&&e[n].removeAttribute("data-sort")}function z(t,e){var n=e[t].getAttribute("data-sort"),r=null;return u(U,U,D).call(U,t,e),r=n&&"desc"!==n?"desc":"asc",e[t].setAttribute("data-sort",r),r}var M=document.querySelector("thead"),Y=document.querySelector("tbody"),B=new U().onTableSort,G=new A().createForm,H=new O().editCell;M.addEventListener("click",function(t){return B(M,Y,t.target)}),Y.addEventListener("click",function(t){var e;return e=t.target,void(n(Y.rows).forEach(function(t){return t.classList.remove("active")}),e.closest("tr").classList.add("active"))}),Y.addEventListener("dblclick",function(t){return H(t,M)}),document.body.append(G())}();
//# sourceMappingURL=index.091f17a1.js.map
