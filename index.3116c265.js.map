{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/scripts/utils.js","src/scripts/form.js","src/scripts/form-notification.js","src/scripts/cell-edit.js","src/scripts/table-sort.js"],"sourcesContent":["function $6d45e21e2891194c$export$94bb5fd7cd44d4b3(target, tBody) {\n    [\n        ...tBody.rows\n    ].forEach((row)=>row.classList.remove(\"active\"));\n    target.closest(\"tr\").classList.add(\"active\");\n}\nfunction $6d45e21e2891194c$export$4dd906bb21d530ae(value) {\n    return `$${Number(value).toLocaleString(\"en-US\")}`;\n}\nfunction $6d45e21e2891194c$export$d07f57595c356899(string) {\n    if (!string) return;\n    if (typeof string !== \"string\") return string;\n    return string.charAt(0).toLocaleUpperCase() + string.slice(1);\n}\n\n\nclass $8096001942d2c6fb$export$9da99de2a36a5578 {\n    notification = null;\n    #createNotification(type = \"\") {\n        const notification = document.createElement(\"div\");\n        notification.classList.add(type, \"notification\");\n        notification.setAttribute(\"data-qa\", \"notification\");\n        this.notification = notification;\n        return this;\n    }\n    #createTitle(titleText) {\n        const title = document.createElement(\"h2\");\n        title.classList.add(\"title\");\n        title.textContent = titleText;\n        this.notification.append(title);\n        return this;\n    }\n    #createMessage(messageText) {\n        const message = document.createElement(\"p\");\n        message.textContent = messageText;\n        this.notification.append(message);\n        return this;\n    }\n    #mountNotification() {\n        document.body.append(this.notification);\n        return this;\n    }\n    #unmountNotification() {\n        const timeoutId = setTimeout(()=>{\n            this.notification.style.display = \"none\";\n            clearTimeout(timeoutId);\n        }, 2000);\n    }\n    showNotification({ type: type, title: title, message: message }) {\n        this.#createNotification(type).#createTitle(title).#createMessage(message).#mountNotification().#unmountNotification();\n    }\n}\n\n\n\nclass $246d003aa0b2c56f$export$a7fed597f4b8afd8 {\n    static OFFICES = [\n        `Tokyo`,\n        `Singapore`,\n        `London`,\n        `New York`,\n        `Edinburgh`,\n        `San Francisco`\n    ];\n    static #createSubmit() {\n        const button = document.createElement(\"button\");\n        button.setAttribute(\"type\", \"submit\");\n        button.textContent = \"Save to table\";\n        return button;\n    }\n    static #createInput(fieldName, option = {}) {\n        const input = document.createElement(\"input\");\n        input.setAttribute(\"name\", fieldName);\n        input.setAttribute(\"data-qa\", fieldName);\n        input.setAttribute(\"required\", true);\n        Object.entries(option).forEach(([key, value])=>{\n            input.setAttribute(key, value);\n        });\n        return input;\n    }\n    static #createLabel(fieldName, labelText, option) {\n        const label = document.createElement(\"label\");\n        const input = $246d003aa0b2c56f$export$a7fed597f4b8afd8.#createInput(fieldName, option);\n        label.textContent = labelText;\n        label.append(input);\n        return label;\n    }\n    static #createOption(value) {\n        const option = document.createElement(\"option\");\n        option.textContent = value;\n        option.setAttribute(\"value\", value);\n        return option;\n    }\n    static #createSelect(fieldName) {\n        const select = document.createElement(\"select\");\n        select.setAttribute(\"name\", fieldName);\n        select.setAttribute(\"data-qa\", fieldName);\n        $246d003aa0b2c56f$export$a7fed597f4b8afd8.OFFICES.forEach((office)=>{\n            const option = $246d003aa0b2c56f$export$a7fed597f4b8afd8.#createOption(office);\n            select.append(option);\n        });\n        return select;\n    }\n    static #createSelectLabel(fieldName, labelText) {\n        const selectLabel = document.createElement(\"label\");\n        const select = $246d003aa0b2c56f$export$a7fed597f4b8afd8.#createSelect(fieldName);\n        selectLabel.textContent = labelText;\n        selectLabel.append(select);\n        return selectLabel;\n    }\n    static #combineForm(form) {\n        const nameField = this.#createLabel(\"name\", \"Name:\", {\n            minlength: 4\n        });\n        const positionField = this.#createLabel(\"position\", \"Position:\");\n        const officeSelectField = this.#createSelectLabel(\"office\", \"Office:\");\n        const ageField = this.#createLabel(\"age\", \"Age:\", {\n            type: \"number\",\n            max: 90,\n            min: 18\n        });\n        const salaryField = this.#createLabel(\"salary\", \"Salary:\", {\n            type: \"number\"\n        });\n        const submit = this.#createSubmit();\n        form.append(nameField);\n        form.append(positionField);\n        form.append(officeSelectField);\n        form.append(ageField);\n        form.append(salaryField);\n        form.append(submit);\n        return form;\n    }\n    static #validateForm(formData) {\n        const notification = new (0, $8096001942d2c6fb$export$9da99de2a36a5578)();\n        for (const [key, value] of formData.entries()){\n            if (!value) {\n                notification.showNotification({\n                    type: \"error\",\n                    title: \"Error\",\n                    message: `${(0, $6d45e21e2891194c$export$d07f57595c356899)(key)} field is required`\n                });\n                return false;\n            }\n            if (key === \"name\" && value.length < 4) {\n                notification.showNotification({\n                    type: \"error\",\n                    title: \"Error\",\n                    message: \"Name length should be at least 4 characters.\"\n                });\n                return false;\n            }\n            if (key === \"age\" && (value < 18 || value > 90)) {\n                notification.showNotification({\n                    type: \"error\",\n                    title: \"Error\",\n                    message: \"Age should be at least 18 y.o. and less or equal than 90\"\n                });\n                return false;\n            }\n        }\n        return true;\n    }\n    static #onSubmit(e) {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        const isValide = $246d003aa0b2c56f$export$a7fed597f4b8afd8.#validateForm(formData);\n        if (!isValide) return;\n        $246d003aa0b2c56f$export$a7fed597f4b8afd8.#createNewRow(formData);\n        e.target.reset();\n        const notification = new (0, $8096001942d2c6fb$export$9da99de2a36a5578)();\n        notification.showNotification({\n            type: \"success\",\n            title: \"Success\",\n            message: \"Employee has been added.\"\n        });\n    }\n    static #createNewRow(formData) {\n        const tBody = document.querySelector(\"tbody\");\n        const newRow = document.createElement(\"tr\");\n        for (const [key, value] of formData.entries()){\n            let cellValue = value;\n            const newCell = document.createElement(\"td\");\n            if (key === \"salary\") cellValue = (0, $6d45e21e2891194c$export$4dd906bb21d530ae)(value);\n            newCell.append(cellValue);\n            newRow.append(newCell);\n            tBody.append(newRow);\n        }\n    }\n    createForm() {\n        const form = document.createElement(\"form\");\n        form.classList.add(\"new-employee-form\");\n        form.setAttribute(\"novalidate\", true);\n        form.addEventListener(\"submit\", $246d003aa0b2c56f$export$a7fed597f4b8afd8.#onSubmit);\n        const combineForm = $246d003aa0b2c56f$export$a7fed597f4b8afd8.#combineForm(form);\n        return combineForm;\n    }\n}\n\n\n\nclass $47a53a8012a10f32$export$d8002ead436d2db0 {\n    static #createInput(columnType) {\n        const input = document.createElement(\"input\");\n        input.classList.add(\"cell-input\");\n        if (columnType === \"age\" || columnType === \"salary\") input.setAttribute(\"type\", \"number\");\n        return input;\n    }\n    static #onCellBlur(e, columnType, currentValue) {\n        const { target: target } = e;\n        const { parentNode: parentNode, value: value } = target;\n        let newValue = value;\n        if (columnType === \"salary\") newValue = value ? (0, $6d45e21e2891194c$export$4dd906bb21d530ae)(value) : null;\n        target.remove();\n        parentNode.textContent = newValue ?? currentValue;\n    }\n    editCell(e, tHead) {\n        const { target: target } = e;\n        const columnIdx = target.cellIndex;\n        const columnType = tHead.rows[0].cells[columnIdx].textContent.toLowerCase();\n        const currentValue = target.textContent;\n        const input = $47a53a8012a10f32$export$d8002ead436d2db0.#createInput(columnType);\n        input.setAttribute(\"placeholder\", currentValue);\n        target.textContent = null;\n        target.append(input);\n        input.focus();\n        input.addEventListener(\"keypress\", (pressEvent)=>{\n            if (pressEvent.key === \"Enter\") input.blur();\n        });\n        input.addEventListener(\"blur\", (blurEvent)=>{\n            $47a53a8012a10f32$export$d8002ead436d2db0.#onCellBlur(blurEvent, columnType, currentValue);\n        });\n    }\n}\n\n\nclass $10d05c39c0eceeda$export$ffd78dd4a2176158 {\n    static #extractValue(columnIdx, value) {\n        let extractedValue = value.cells[columnIdx].textContent;\n        if (columnIdx === 3) extractedValue = +extractedValue;\n        if (columnIdx === 4) extractedValue = +extractedValue.replace(/[$,]/g, \"\");\n        return extractedValue;\n    }\n    static #resetSiblingsSortType(columnIdx, tHeadCells) {\n        for(let i = 0; i < tHeadCells.length; i++)if (columnIdx !== i) tHeadCells[i].removeAttribute(\"data-sort\");\n    }\n    static #setSortType(columnIdx, tHeadCells) {\n        const currentSortType = tHeadCells[columnIdx].getAttribute(\"data-sort\");\n        let newSortType = null;\n        $10d05c39c0eceeda$export$ffd78dd4a2176158.#resetSiblingsSortType(columnIdx, tHeadCells);\n        if (!currentSortType || currentSortType === \"desc\") newSortType = \"asc\";\n        else newSortType = \"desc\";\n        tHeadCells[columnIdx].setAttribute(\"data-sort\", newSortType);\n        return newSortType;\n    }\n    onTableSort(tHead, tBody, target) {\n        const columnIdx = target.cellIndex;\n        const tHeadCells = tHead.rows[0].cells;\n        const tbodyRows = tBody.rows;\n        const sortType = $10d05c39c0eceeda$export$ffd78dd4a2176158.#setSortType(columnIdx, tHeadCells);\n        const sortedRows = [\n            ...tbodyRows\n        ].sort((a, b)=>{\n            const valueA = $10d05c39c0eceeda$export$ffd78dd4a2176158.#extractValue(columnIdx, a);\n            const valueB = $10d05c39c0eceeda$export$ffd78dd4a2176158.#extractValue(columnIdx, b);\n            if (typeof valueA === \"string\") return valueA.localeCompare(valueB);\n            return valueA - valueB;\n        });\n        sortedRows.forEach((el)=>{\n            if (sortType === \"asc\") tBody.append(el);\n            else tBody.prepend(el);\n        });\n    }\n}\n\n\n\"use strict\";\nconst $09e991522ca7e64e$var$tHead = document.querySelector(\"thead\");\nconst $09e991522ca7e64e$var$tBody = document.querySelector(\"tbody\");\nconst { onTableSort: $09e991522ca7e64e$var$onTableSort } = new (0, $10d05c39c0eceeda$export$ffd78dd4a2176158)();\nconst { createForm: $09e991522ca7e64e$var$form } = new (0, $246d003aa0b2c56f$export$a7fed597f4b8afd8)();\nconst { editCell: $09e991522ca7e64e$var$editCell } = new (0, $47a53a8012a10f32$export$d8002ead436d2db0)();\n$09e991522ca7e64e$var$tHead.addEventListener(\"click\", (e)=>$09e991522ca7e64e$var$onTableSort($09e991522ca7e64e$var$tHead, $09e991522ca7e64e$var$tBody, e.target));\n$09e991522ca7e64e$var$tBody.addEventListener(\"click\", (e)=>(0, $6d45e21e2891194c$export$94bb5fd7cd44d4b3)(e.target, $09e991522ca7e64e$var$tBody));\n$09e991522ca7e64e$var$tBody.addEventListener(\"dblclick\", (e)=>$09e991522ca7e64e$var$editCell(e, $09e991522ca7e64e$var$tHead));\ndocument.body.append($09e991522ca7e64e$var$form());\n\n\n//# sourceMappingURL=index.3116c265.js.map\n","'use strict';\n\nimport { setActiveRow } from './utils';\nimport { Form } from './form';\nimport { CellEdit } from './cell-edit';\nimport { TableSort } from './table-sort';\n\nconst tHead = document.querySelector('thead');\nconst tBody = document.querySelector('tbody');\n\nconst { onTableSort } = new TableSort();\nconst { createForm: form } = new Form();\nconst { editCell } = new CellEdit();\n\ntHead.addEventListener('click', (e) => onTableSort(tHead, tBody, e.target));\n\ntBody.addEventListener('click', (e) => setActiveRow(e.target, tBody));\n\ntBody.addEventListener('dblclick', (e) => editCell(e, tHead));\n\ndocument.body.append(form());\n","export function setActiveRow(target, tBody) {\n  [...tBody.rows].forEach((row) => row.classList.remove('active'));\n  target.closest('tr').classList.add('active');\n}\n\nexport function formatToCurrency(value) {\n  return `$${Number(value).toLocaleString('en-US')}`;\n}\n\nexport function capitalizeFirstLetter(string) {\n  if (!string) {\n    return;\n  }\n\n  if (typeof string !== 'string') {\n    return string;\n  }\n\n  return string.charAt(0).toLocaleUpperCase() + string.slice(1);\n}\n","import { FormNotification } from './form-notification';\nimport { capitalizeFirstLetter, formatToCurrency } from './utils';\n\nexport class Form {\n  static OFFICES = [\n    `Tokyo`,\n    `Singapore`,\n    `London`,\n    `New York`,\n    `Edinburgh`,\n    `San Francisco`,\n  ];\n\n  static #createSubmit() {\n    const button = document.createElement('button');\n\n    button.setAttribute('type', 'submit');\n    button.textContent = 'Save to table';\n\n    return button;\n  }\n\n  static #createInput(fieldName, option = {}) {\n    const input = document.createElement('input');\n\n    input.setAttribute('name', fieldName);\n    input.setAttribute('data-qa', fieldName);\n    input.setAttribute('required', true);\n\n    Object.entries(option).forEach(([key, value]) => {\n      input.setAttribute(key, value);\n    });\n\n    return input;\n  }\n\n  static #createLabel(fieldName, labelText, option) {\n    const label = document.createElement('label');\n    const input = Form.#createInput(fieldName, option);\n\n    label.textContent = labelText;\n    label.append(input);\n\n    return label;\n  }\n\n  static #createOption(value) {\n    const option = document.createElement('option');\n\n    option.textContent = value;\n    option.setAttribute('value', value);\n\n    return option;\n  }\n\n  static #createSelect(fieldName) {\n    const select = document.createElement('select');\n\n    select.setAttribute('name', fieldName);\n    select.setAttribute('data-qa', fieldName);\n\n    Form.OFFICES.forEach((office) => {\n      const option = Form.#createOption(office);\n\n      select.append(option);\n    });\n\n    return select;\n  }\n\n  static #createSelectLabel(fieldName, labelText) {\n    const selectLabel = document.createElement('label');\n    const select = Form.#createSelect(fieldName);\n\n    selectLabel.textContent = labelText;\n    selectLabel.append(select);\n\n    return selectLabel;\n  }\n\n  static #combineForm(form) {\n    const nameField = this.#createLabel('name', 'Name:', { minlength: 4 });\n    const positionField = this.#createLabel('position', 'Position:');\n    const officeSelectField = this.#createSelectLabel('office', 'Office:');\n    const ageField = this.#createLabel('age', 'Age:', {\n      type: 'number',\n      max: 90,\n      min: 18,\n    });\n    const salaryField = this.#createLabel('salary', 'Salary:', {\n      type: 'number',\n    });\n    const submit = this.#createSubmit();\n\n    form.append(nameField);\n    form.append(positionField);\n    form.append(officeSelectField);\n    form.append(ageField);\n    form.append(salaryField);\n    form.append(submit);\n\n    return form;\n  }\n\n  static #validateForm(formData) {\n    const notification = new FormNotification();\n\n    for (const [key, value] of formData.entries()) {\n      if (!value) {\n        notification.showNotification({\n          type: 'error',\n          title: 'Error',\n          message: `${capitalizeFirstLetter(key)} field is required`,\n        });\n\n        return false;\n      }\n\n      if (key === 'name' && value.length < 4) {\n        notification.showNotification({\n          type: 'error',\n          title: 'Error',\n          message: 'Name length should be at least 4 characters.',\n        });\n\n        return false;\n      }\n\n      if (key === 'age' && (value < 18 || value > 90)) {\n        notification.showNotification({\n          type: 'error',\n          title: 'Error',\n          message: 'Age should be at least 18 y.o. and less or equal than 90',\n        });\n\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  static #onSubmit(e) {\n    e.preventDefault();\n\n    const formData = new FormData(e.target);\n    const isValide = Form.#validateForm(formData);\n\n    if (!isValide) {\n      return;\n    }\n\n    Form.#createNewRow(formData);\n    e.target.reset();\n\n    const notification = new FormNotification();\n\n    notification.showNotification({\n      type: 'success',\n      title: 'Success',\n      message: 'Employee has been added.',\n    });\n  }\n\n  static #createNewRow(formData) {\n    const tBody = document.querySelector('tbody');\n    const newRow = document.createElement('tr');\n\n    for (const [key, value] of formData.entries()) {\n      let cellValue = value;\n      const newCell = document.createElement('td');\n\n      if (key === 'salary') {\n        cellValue = formatToCurrency(value);\n      }\n\n      newCell.append(cellValue);\n      newRow.append(newCell);\n      tBody.append(newRow);\n    }\n  }\n\n  createForm() {\n    const form = document.createElement('form');\n\n    form.classList.add('new-employee-form');\n    form.setAttribute('novalidate', true);\n    form.addEventListener('submit', Form.#onSubmit);\n\n    const combineForm = Form.#combineForm(form);\n\n    return combineForm;\n  }\n}\n","export class FormNotification {\n  notification = null;\n\n  #createNotification(type = '') {\n    const notification = document.createElement('div');\n\n    notification.classList.add(type, 'notification');\n    notification.setAttribute('data-qa', 'notification');\n\n    this.notification = notification;\n\n    return this;\n  }\n\n  #createTitle(titleText) {\n    const title = document.createElement('h2');\n\n    title.classList.add('title');\n    title.textContent = titleText;\n\n    this.notification.append(title);\n\n    return this;\n  }\n\n  #createMessage(messageText) {\n    const message = document.createElement('p');\n\n    message.textContent = messageText;\n    this.notification.append(message);\n\n    return this;\n  }\n\n  #mountNotification() {\n    document.body.append(this.notification);\n\n    return this;\n  }\n\n  #unmountNotification() {\n    const timeoutId = setTimeout(() => {\n      this.notification.style.display = 'none';\n      clearTimeout(timeoutId);\n    }, 2000);\n  }\n\n  showNotification({ type, title, message }) {\n    this.#createNotification(type)\n      .#createTitle(title)\n      .#createMessage(message)\n      .#mountNotification()\n      .#unmountNotification();\n  }\n}\n","import { formatToCurrency } from './utils';\n\nexport class CellEdit {\n  static #createInput(columnType) {\n    const input = document.createElement('input');\n\n    input.classList.add('cell-input');\n\n    if (columnType === 'age' || columnType === 'salary') {\n      input.setAttribute('type', 'number');\n    }\n\n    return input;\n  }\n\n  static #onCellBlur(e, columnType, currentValue) {\n    const { target } = e;\n    const { parentNode, value } = target;\n\n    let newValue = value;\n\n    if (columnType === 'salary') {\n      newValue = value ? formatToCurrency(value) : null;\n    }\n\n    target.remove();\n\n    parentNode.textContent = newValue ?? currentValue;\n  }\n\n  editCell(e, tHead) {\n    const { target } = e;\n\n    const columnIdx = target.cellIndex;\n    const columnType = tHead.rows[0].cells[columnIdx].textContent.toLowerCase();\n    const currentValue = target.textContent;\n\n    const input = CellEdit.#createInput(columnType);\n\n    input.setAttribute('placeholder', currentValue);\n\n    target.textContent = null;\n    target.append(input);\n\n    input.focus();\n\n    input.addEventListener('keypress', (pressEvent) => {\n      if (pressEvent.key === 'Enter') {\n        input.blur();\n      }\n    });\n\n    input.addEventListener('blur', (blurEvent) => {\n      CellEdit.#onCellBlur(blurEvent, columnType, currentValue);\n    });\n  }\n}\n","export class TableSort {\n  static #extractValue(columnIdx, value) {\n    let extractedValue = value.cells[columnIdx].textContent;\n\n    if (columnIdx === 3) {\n      extractedValue = +extractedValue;\n    }\n\n    if (columnIdx === 4) {\n      extractedValue = +extractedValue.replace(/[$,]/g, '');\n    }\n\n    return extractedValue;\n  }\n\n  static #resetSiblingsSortType(columnIdx, tHeadCells) {\n    for (let i = 0; i < tHeadCells.length; i++) {\n      if (columnIdx !== i) {\n        tHeadCells[i].removeAttribute('data-sort');\n      }\n    }\n  }\n\n  static #setSortType(columnIdx, tHeadCells) {\n    const currentSortType = tHeadCells[columnIdx].getAttribute('data-sort');\n    let newSortType = null;\n\n    TableSort.#resetSiblingsSortType(columnIdx, tHeadCells);\n\n    if (!currentSortType || currentSortType === 'desc') {\n      newSortType = 'asc';\n    } else {\n      newSortType = 'desc';\n    }\n\n    tHeadCells[columnIdx].setAttribute('data-sort', newSortType);\n\n    return newSortType;\n  }\n\n  onTableSort(tHead, tBody, target) {\n    const columnIdx = target.cellIndex;\n    const tHeadCells = tHead.rows[0].cells;\n    const tbodyRows = tBody.rows;\n\n    const sortType = TableSort.#setSortType(columnIdx, tHeadCells);\n\n    const sortedRows = [...tbodyRows].sort((a, b) => {\n      const valueA = TableSort.#extractValue(columnIdx, a);\n      const valueB = TableSort.#extractValue(columnIdx, b);\n\n      if (typeof valueA === 'string') {\n        return valueA.localeCompare(valueB);\n      }\n\n      return valueA - valueB;\n    });\n\n    sortedRows.forEach((el) => {\n      if (sortType === 'asc') {\n        tBody.append(el);\n      } else {\n        tBody.prepend(el);\n      }\n    });\n  }\n}\n"],"names":["$6d45e21e2891194c$export$4dd906bb21d530ae","value","Number","toLocaleString","$8096001942d2c6fb$export$9da99de2a36a5578","notification","createNotification","type","document","createElement","classList","add","setAttribute","createTitle","titleText","title","textContent","append","createMessage","messageText","message","mountNotification","body","unmountNotification","timeoutId","setTimeout","style","display","clearTimeout","showNotification","$246d003aa0b2c56f$export$a7fed597f4b8afd8","OFFICES","createSubmit","button","createInput","fieldName","option","input","Object","entries","forEach","key","createLabel","labelText","label","createOption","createSelect","select","office","createSelectLabel","selectLabel","combineForm","form","nameField","minlength","positionField","officeSelectField","ageField","max","min","salaryField","submit","validateForm","formData","string","charAt","toLocaleUpperCase","slice","length","onSubmit","e","preventDefault","FormData","target","createNewRow","reset","tBody","querySelector","newRow","cellValue","newCell","createForm","addEventListener","$47a53a8012a10f32$export$d8002ead436d2db0","columnType","onCellBlur","currentValue","parentNode","newValue","remove","editCell","tHead","columnIdx","cellIndex","rows","cells","toLowerCase","focus","pressEvent","blur","blurEvent","$10d05c39c0eceeda$export$ffd78dd4a2176158","extractValue","extractedValue","replace","resetSiblingsSortType","tHeadCells","i","removeAttribute","setSortType","currentSortType","getAttribute","newSortType","onTableSort","tbodyRows","sortType","sortedRows","sort","a","b","valueA","valueB","localeCompare","el","prepend","$09e991522ca7e64e$var$tHead","$09e991522ca7e64e$var$tBody","$09e991522ca7e64e$var$onTableSort","$09e991522ca7e64e$var$form","$09e991522ca7e64e$var$editCell","row","closest"],"version":3,"file":"index.3116c265.js.map"}